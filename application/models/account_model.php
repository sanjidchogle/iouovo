<?phpclass Account_model extends CI_Model{	var $logged_in_userid;	var $logged_in_email;	var $logged_in_firstname;	var $logged_in_profile_url;	function logged_in()	{		if($this->session->userdata('logged_in') == TRUE)		{			return TRUE;		}		else		{			return FALSE;		}    }				function login($user_to_login)	{		$this->logged_in_email = $user_to_login['email'];        // get_user_profile_from_email() function  is stored in user_profile_helper        $user = $this->get_user_profile_from_email($this->logged_in_email);        if ($user != NULL)        {        	$this->logged_in_userid = $user->userid;        	$this->logged_in_firstname = $user->firstname;        }        else        {        	return NULL;        	// this condition is an exception.        }		$data = array(			'email' => $this->logged_in_email,			'userid' =>$this->logged_in_userid,			'firstname' =>$this->logged_in_firstname,			'logged_in' => TRUE        );        $this->session->set_userdata($data);                	}	function log_out()	{		$data = array(			'logged_in' => FALSE        );        		$this->session->set_userdata($data);		$this->session->sess_destroy();	}	function signup($data)	{		if($this->db->insert('users',$data))		{			return TRUE;		}		else		{			return FALSE;		}	}// helper functions	function get_user_profile_from_email($email)		{			$this->db->select(array('userid','firstname'));		$this->db->from('users');		$this->db->where(array('email'=>$email));				$query = $this->db->get();		if($query->num_rows() == 1)		{			return $query->row();		}		else		{			return NULL;		}	}}//End of file account_model.php